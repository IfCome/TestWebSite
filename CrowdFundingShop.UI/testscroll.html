<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>一元易购物</title>
    <meta charset="utf-8">
    <meta content="width=device-width, minimum-scale=1,initial-scale=1, maximum-scale=1, user-scalable=1;" id="viewport" name="viewport" />
    <!--离线应用的另一个技巧-->
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta content="black" name="apple-mobile-web-app-status-bar-style" />
    <meta content="telephone=no" name="format-detection" />
    <script src="Resources/js/jquery-1.9.1.min.js"></script>
    <!--@*滑动引用*@-->
    <script src="Resources/wap/js/iscroll.js"></script>
</head>
<body>
    <div id="wrapper" style="background-color:green;height:200px">
        <div class="scroll">
            这个区域可以滑动
        </div>
    </div>
</body>
</html>
<script>
    //$(function () {
    //    var startx = 0;
    //    var endx = 0;
    //    $("#wrapper").mousedown(function () {
    //        startx = getX(event);
    //    });
    //    $("#wrapper").mouseup(function () {
    //        var endx = getX(event);
    //        if (startx > endx) {
    //            alert("向右")
    //        }
    //        else if (startx < endx) {
    //            alert("向左")
    //        }
    //        else {
    //            alert(startx + "," + endx);
    //        }
    //    });
    //});
    //function getX(e) {
    //    e = e || window.event;
    //    return e.pageX || e.clientX + document.body.scroolLeft;
    //}
    var startx = 0;
    var endx = 0;
    $(function () {
        document.addEventListener("touchstart", fn, false);
        document.addEventListener("touchend", fn, false);
        document.addEventListener("touchmove", fn, false);
    })
    function fn(event) {
        var event = event || window.event;
        switch (event.type) {
            case "touchstart":
                startx = event.pageX;
                break;
            case "touchend":
                endx = event.pageX;
                break;
            case "touchmove":
                event.preventDefault();//取消事件的默认动作
                break;
        }
        //alert(event.type);
        test();
    }

    function test() {
        if (startx > endx) {
            alert("由" + startx + "到" + endx + "向左")
        }
        else if (startx < endx) {
            alert("由" + startx + "到" + endx + "向右")
        }
        else {
            alert("由" + startx + "到" + endx + "没动")
        }
    }
    //$(document).ready(function () {
    //    var startx = 0;
    //    var endx = 0;
    //    $(document).touchstart(function (event) {
    //        startx = event.pageX;
    //    }).touchend(function () {
    //        endx = event.pageX;
    //        if (startx > endx) {
    //            alert("由" + startx + "到" + endx + "向左")
    //        }
    //        else if (startx < endx) {
    //            alert("由" + startx + "到" + endx + "向右")
    //        }
    //        else {
    //            alert("由" + startx + "到" + endx + "没动")
    //        }
    //    });
    //});
</script>
